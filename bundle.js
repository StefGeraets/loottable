!function(t){var n={};function o(e){if(n[e])return n[e].exports;var l=n[e]={i:e,l:!1,exports:{}};return t[e].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=t,o.c=n,o.d=function(e,l,t){o.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(l,e){if(1&e&&(l=o(l)),8&e)return l;if(4&e&&"object"==typeof l&&l&&l.__esModule)return l;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:l}),2&e&&"string"!=typeof l)for(var n in l)o.d(t,n,function(e){return l[e]}.bind(null,n));return t},o.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(l,"a",l),l},o.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},o.p="",o(o.s=1)}([function(e,l,t){},function(e,l,t){"use strict";t.r(l);t(0);function n(){var t;t=G.charTypeSelect.innerHTML="",h.type.forEach(function(e,l){t+='<option value="'.concat(e.name,'">').concat(e.name,"</option>")}),G.charTypeSelect.innerHTML=t}function A(e,l){var t=1<arguments.length&&void 0!==l?l:"";return"<h2>".concat(e,"<small>").concat(t,"</small></h2>")}function o(e,l,t,n,o,i){var a,r,d,u,c,m,s,p,g,T,h,y,f,b,v,R;G.treasureContainer.innerHTML='<div class="treasure-result">\n                                            '.concat((a=e,r=l,u=n,c=o,m=i,v=b=f="",R=A((d=t).total+" GP",w(a,r,d)),r.gems&&(s="".concat(u.total," x ").concat(r.gems.worth," gems"),p="",r.gems.diceToRoll&&(p="".concat(r.gems.diceToRoll," (").concat(u.diceRolls.join(" + "),")")),r.gems.type&&(p+="".concat(r.gems.type)),f=A(s,p)),r.art&&(g="".concat(c.total," ").concat(r.art.worth?r.art.worth:""," art object(s)"),T="",r.art.diceToRoll&&(T="".concat(r.art.diceToRoll," (").concat(c.diceRolls.join(" + "),")")),r.art.other&&(T+="".concat(r.art.other)),b=A(g,T)),r.magicItem&&(h="".concat(m.total," magic items"),y="",r.magicItem.diceToRoll&&(y="".concat(r.magicItem.diceToRoll," (").concat(m.diceRolls.join(" + "),")")),v=A(h,y)),"".concat(R).concat(f).concat(b).concat(v)),"\n                                          </div>")}function i(){return{charType:G.charTypeSelect.options[G.charTypeSelect.selectedIndex].value,rating:G.rating.value,indLevel:G.indPartyLevel.value,hoardLevel:G.hoardPartyLevel.value,partyMembers:G.partyMember.value,fantasyMod:G.fantasyMod.options[G.fantasyMod.selectedIndex].value,individual:G.radioIndividual.checked,hoard:G.radioHoard.checked}}function g(e,l){var t;t=l,G.errorMsg.innerHTML='<p class="active">'.concat(t,"</p>"),e.parentElement.classList.add("error")}function T(e){var l,t,n=[];if(e.baseGold)l=e.baseGold;else{for(var o=0,i=0;i<e.diceAmount;i++){var a=(t=e.diceType,Math.floor(Math.random()*t)+1);n.push(a),o+=a}l=o}return{total:l,diceRolls:n}}function a(e){var l,t,n,o,i,a,r,d,u=(l=e.charType,h.type.find(function(e){return e.name===l})),c=(t=u,n=e,o=Math.floor(100*Math.random()),i=o<t.treasureChance.default,a=!1,t.treasureChance.range?n.rating?n.rating>=t.treasureChance.range.from?o<t.treasureChance.range.percentage&&(a=!0):i&&(a=!0):g(rating,"Challenge Rating is required to calculate loot"):i&&(a=!0),a),m=T(u.baseGp),s=u.settings[e.fantasyMod],p=m.total*s;return 1!==u.modifier&&(d=p,(r=e).indLevel?d*=r.indLevel:g(indPartyLevel,"Average Player Level is required to calculate loot"),p=d),{charData:u,diceRolls:m.diceRolls,lootTotal:p,formData:e,getLoot:c}}function c(e){return Math.floor(Math.random()*e)+1}function r(e,l){var t,n,o,i,a,r=function(e){var l,t=[];if(e.base)l=e.base;else{for(var n=0,o=0;o<e.diceAmount;o++){var i=c(e.diceType);t.push(i),n+=i}l=n}return{total:l,diceRolls:t}}(e.gold);return r.total=(t=e.gold.multiplier,n=r.total,t?n*t:n),r.total=(o=e.gold.apl,i=l.hoardLevel,a=r.total,o?i?a*i:(g(hoardPartyLevel,"Average Player Level is required to calculate loot"),a):a),r}function d(e){var l,t=(l=e.charType,m.type.find(function(e){return e.name===l}));return{charData:t,gold:r(t,e),gems:function(e,l){var t,n,o=0,i=[];if(e.gems){if(e.gems.amount&&(o=e.gems.amount),e.gems.multiplier&&(o=Math.floor(l.hoardLevel*e.gems.multiplier)),e.gems.diceToRoll){for(var a=0,r=0;r<e.gems.diceAmount;r++){var d=c(e.gems.diceType);i.push(d),a+=d}o=a}t=e.gems.worth,n=e.gems.type}return{total:o,worth:t,type:n,diceRolls:i}}(t,e),art:function(e,l){var t,n,o,i=0,a=[];if(e.art){if(e.art.base&&(i=e.art.base),e.art.apl&&(l.hoardLevel?i=parseInt(l.hoardLevel):g(hoardPartyLevel,"Average Player Level is required to calculate loot")),e.art.diceToRoll){for(var r=0,d=0;d<e.art.diceAmount;d++){var u=c(e.art.diceType);a.push(u),r+=u}i=r}e.art.worth&&(t=e.art.worth),e.art.extra&&(n=e.art.extra),e.art.other&&(o=e.art.other)}return{total:i,diceRolls:a,worth:t,extra:n,other:o}}(t,e),magicItems:function(e,l){var t=0,n=[];if(e.magicItem.base&&(t+=e.magicItem.base),e.magicItem.members&&(l.partyMembers?t=parseInt(l.partyMembers)*e.magicItem.multiplier:g(partyMember,"Party Members is required to calculate loot")),e.magicItem.diceToRoll){for(var o=0,i=0;i<e.magicItem.diceAmount;i++){var a=c(e.magicItem.diceType);n.push(a),o+=a}t=o}return{total:t,diceRolls:n}}(t,e)}}function u(){G.submitLoot.addEventListener("click",function(){var e,l,t=i();t.individual&&function(e,l,t,n,o){var i=l.baseGp,a=l.baseGp.baseGold?"".concat(i.baseGold,"GP"):"<span>".concat(t.join(" + "),'</span><div class="dice">').concat(i.diceToRoll,"</div>"),r='<div class="times"><svg viewBox="0 0 20 20" fill="currentColor" class="x w-6 h-6"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div>',d="";1!==l.modifier&&(d="<div><strong>Player Modifier</strong>".concat(e.indLevel,"</div>").concat(r));var u='<div class="treasure-result">\n                        <h2>'.concat(n,' GP</h2>\n                      </div>\n                      <div class="treasure-calculation">\n                        <div><strong>GP</strong> ').concat(a,"</div>\n                        ").concat(r,"\n                        ").concat(d,"\n                        <div><strong>Fantasy Modifier</strong>").concat(l.settings[e.fantasyMod],"</div>\n                      </div>"),c=o?u:'<div class="treasure-result">\n                          <h2>0 GP</h2>\n                        </div>\n                        <div class="treasure-calculation">Treasure Chance to low</div>';G.treasureContainer.innerHTML=c}((e=a(t)).formData,e.charData,e.diceRolls,e.lootTotal,e.getLoot),t.hoard&&(l=d(t),o(t,l.charData,l.gold,l.gems,l.art,l.magicItems))})}var h={type:[{name:"Aberration",treasureChance:{default:1,range:{from:9,percentage:40}},baseGp:{baseGold:null,diceToRoll:"2d12",diceAmount:2,diceType:12},modifier:1,settings:{low:1,mid:2,high:3}},{name:"Beast",treasureChance:{default:1,range:null},baseGp:{baseGold:1,diceToRoll:null,diceAmount:null,diceType:null},modifier:1,settings:{low:1,mid:1,high:2}},{name:"Celestial",treasureChance:{default:0,range:{from:10,percentage:60}},baseGp:{baseGold:null,diceToRoll:"2d10",diceAmount:2,diceType:10},modifier:"",settings:{low:1,mid:1,high:2}},{name:"Construct",treasureChance:{default:1,range:null},baseGp:{baseGold:1,diceToRoll:null,diceAmount:null,diceType:null},modifier:1,settings:{low:1,mid:1,high:2}},{name:"Dragon",treasureChance:{default:0,range:null},baseGp:{baseGold:0,diceToRoll:null,diceAmount:null,diceType:null},modifier:1,settings:{low:0,mid:0,high:0}},{name:"Elemental",treasureChance:{default:0,range:null},baseGp:{baseGold:0,diceToRoll:null,diceAmount:null,diceType:null},modifier:1,settings:{low:0,mid:0,high:0}},{name:"Fey",treasureChance:{default:80,range:null},baseGp:{baseGold:null,diceToRoll:"1d4",diceAmount:1,diceType:4},modifier:"",settings:{low:1,mid:2,high:3}},{name:"Fiend",treasureChance:{default:90,range:null},baseGp:{baseGold:null,diceToRoll:"2d8",diceAmount:2,diceType:8},modifier:"",settings:{low:1,mid:2,high:3}},{name:"Giant",treasureChance:{default:95,range:null},baseGp:{baseGold:null,diceToRoll:"2d4",diceAmount:2,diceType:4},modifier:"",settings:{low:1,mid:2,high:3}},{name:"Humanoid",treasureChance:{default:95,range:null},baseGp:{baseGold:null,diceToRoll:"2d6",diceAmount:2,diceType:6},modifier:"",settings:{low:5,mid:1,high:2}},{name:"Monstrosity",treasureChance:{default:10,range:null},baseGp:{baseGold:null,diceToRoll:"2d4",diceAmount:2,diceType:4},modifier:1,settings:{low:0,mid:1,high:2}},{name:"Ooze",treasureChance:{default:80,range:null},baseGp:{baseGold:null,diceToRoll:"2d12",diceAmount:2,diceType:12},modifier:"",settings:{low:1,mid:1,high:2}},{name:"Plant",treasureChance:{default:40,range:null},baseGp:{baseGold:null,diceToRoll:"2d10",diceAmount:2,diceType:10},modifier:1,settings:{low:1,mid:1,high:2}},{name:"Undead",treasureChance:{default:20,range:null},baseGp:{baseGold:null,diceToRoll:"2d4",diceAmount:2,diceType:4},modifier:"",settings:{low:1,mid:1,high:2}}]},G={charTypeSelect:document.getElementById("charTypeSelect"),treasureContainer:document.getElementById("treasureContainer"),submitLoot:document.getElementById("submitLoot"),rating:document.getElementById("rating"),indPartyLevel:document.getElementById("indPartyLevel"),hoardPartyLevel:document.getElementById("hoardPartyLevel"),partyMember:document.getElementById("partyMembers"),fantasyMod:document.getElementById("fantasyMod"),errorMsg:document.getElementById("errorMsg"),radioIndividual:document.getElementById("radioIndividual"),radioHoard:document.getElementById("radioHoard"),individualOptions:document.querySelectorAll(".individual-option"),hoardOptions:document.querySelectorAll(".hoard-option")},w=function(e,l,t){var n="";return l.gold.base||(n+="".concat(l.gold.diceToRoll," (").concat(t.diceRolls.join(" + "),")")),l.gold.multiplier&&(n+=" X ".concat(l.gold.multiplier)),l.gold.apl&&(n+=" X ".concat(e.hoardLevel)),n},m={type:[{name:"Aberration",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:50,apl:!0},gems:{amount:null,multiplier:1,worth:"50GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:{base:null,worth:"25GP",apl:!1,diceToRoll:"1d4",diceAmount:1,diceType:4,extra:null,other:null},magicItem:{base:null,members:!0,multiplier:1,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Beast",gold:{base:5,diceToRoll:null,diceAmount:null,diceType:null,multiplier:null,apl:!1},gems:{amount:null,multiplier:.5,worth:"10GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:null,magicItem:{base:1,members:!1,multiplier:null,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Celestial",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:10,apl:!0},gems:null,art:{base:1,worth:"750GP",apl:!1,diceToRoll:null,diceAmount:null,diceType:null,other:null},magicItem:{base:null,members:!1,multiplier:null,diceToRoll:"1d4",diceAmount:1,diceType:4}},{name:"Construct",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:null,apl:!1},gems:{amount:1,multiplier:null,worth:"50GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:null,magicItem:{base:1,members:!1,multiplier:null,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Dragon",gold:{base:null,diceToRoll:"4d6",diceAmount:4,diceType:6,multiplier:100,apl:!0},gems:{amount:null,multiplier:null,worth:"100GP",type:"<br/>Dragons Color",diceToRoll:"2d10",diceAmount:2,diceType:10},art:{base:null,worth:"250GP",apl:!1,diceToRoll:"2d6",diceAmount:2,diceType:6,other:null},magicItem:{base:null,members:!0,multiplier:2,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Elemental",gold:{base:5,diceToRoll:null,diceAmount:null,diceType:null,multiplier:null,apl:!1},gems:{amount:null,multiplier:.5,worth:"10GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:null,magicItem:{base:1,members:!1,multiplier:null,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Fey",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:100,apl:!0},gems:{amount:null,multiplier:.5,worth:"50GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:{base:null,worth:"100GP",apl:!0,diceToRoll:null,diceAmount:null,diceType:null,other:null},magicItem:{base:null,members:!1,multiplier:null,diceToRoll:"1d8",diceAmount:1,diceType:8}},{name:"Fiend",gold:{base:null,diceToRoll:"2d6",diceAmount:2,diceType:6,multiplier:100,apl:!0},gems:{amount:null,multiplier:1,worth:"100GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:{base:1,worth:"2500GP",apl:!1,diceToRoll:null,diceAmount:null,diceType:null,other:null},magicItem:{base:null,members:!0,multiplier:1,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Giant",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:10,apl:!0},gems:null,art:{base:1,worth:null,apl:!1,diceToRoll:null,diceAmount:null,diceType:null,extra:null,other:"Roll on random items <br /> in a giants bag from SKT"},magicItem:{base:null,members:!1,multiplier:null,diceToRoll:"1d8",diceAmount:1,diceType:8}},{name:"Humanoid",gold:{base:null,diceToRoll:"1d6",diceAmount:1,diceType:6,multiplier:100,apl:!0},gems:{amount:null,multiplier:null,worth:"500GP",type:null,diceToRoll:"1d4",diceAmount:1,diceType:4},art:{base:1,worth:null,apl:!1,diceToRoll:null,diceAmount:null,diceType:null,other:"1 Art Object from each table <br/>excluding 7500GP Art Object"},magicItem:{base:null,members:!1,multiplier:null,diceToRoll:"1d8",diceAmount:1,diceType:8}},{name:"Monstrosity",gold:{base:5,diceToRoll:null,diceAmount:null,diceType:null,multiplier:null,apl:!1},gems:{amount:null,multiplier:.5,worth:"10GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:null,magicItem:{base:1,members:!1,multiplier:null,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Ooze",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:null,apl:!1},gems:{amount:1,multiplier:null,worth:"50GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:null,magicItem:{base:1,members:!1,multiplier:null,diceToRoll:null,diceAmount:null,diceType:null}},{name:"Plant",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:null,apl:!1},gems:{amount:1,multiplier:null,worth:"50GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:null,magicItem:{base:null,members:!1,multiplier:null,diceToRoll:"1d4",diceAmount:1,diceType:4}},{name:"Undead",gold:{base:null,diceToRoll:"2d4",diceAmount:2,diceType:4,multiplier:50,apl:!0},gems:{amount:null,multiplier:.5,worth:"750GP",type:null,diceToRoll:null,diceAmount:null,diceType:null},art:{base:null,worth:"25GP",apl:!1,diceToRoll:"1d4",diceAmount:1,diceType:4,other:null},magicItem:{base:null,members:!0,multiplier:1,diceToRoll:null,diceAmount:null,diceType:null}}]};window.addEventListener("load",function(){n(),G.radioIndividual.addEventListener("click",function(e){G.hoardOptions.forEach(function(e){e.classList.remove("active"),e.classList.add("hidden")}),G.individualOptions.forEach(function(e){e.classList.remove("hidden"),e.classList.add("active")})}),G.radioHoard.addEventListener("click",function(e){G.individualOptions.forEach(function(e){e.classList.remove("active"),e.classList.add("hidden")}),G.hoardOptions.forEach(function(e){e.classList.remove("hidden"),e.classList.add("active")})}),u()}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./sw.js").then(function(e){console.log("SW registered: ",e)}).catch(function(e){console.log("SW registration failed: ",e)})})}]);
//# sourceMappingURL=bundle.js.map